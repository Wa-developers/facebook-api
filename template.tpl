___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "type": "TAG",
  "id": "cvt_temp_public_id",
  "version": 1,
  "securityGroups": [],
  "displayName": "Webareal - Facebook API",
  "categories": ["SALES"],
  "brand": {
    "id": "webareal",
    "displayName": "",
    "thumbnail": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQ8AAAEPCAYAAABcL0E+AAAACXBIWXMAAAsTAAALEwEAmpwYAAAG/2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNy4yLWMwMDAgNzkuMWI2NWE3OSwgMjAyMi8wNi8xMy0xNzo0NjoxNCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIzLjUgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMi0wOS0xMlQxMzowNzo0NCswMjowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMi0wOS0xMlQxMzowNzo0NCswMjowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjItMDktMTJUMTM6MDc6NDQrMDI6MDAiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6ZDk5MzhjZDctNTMyMi1mZjQ1LThhYTAtZjBiNTFmNWQxNjMxIiB4bXBNTTpEb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6N2Y4MGQ5ODAtZDdiZS02MDRiLWJmNGQtZjBlMDQ4NDQ1OWNkIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6NThhYTFlOWUtYmEzZS0wMDQ4LTk2M2YtOWU5ZDczOWEyNWEzIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6NThhYTFlOWUtYmEzZS0wMDQ4LTk2M2YtOWU5ZDczOWEyNWEzIiBzdEV2dDp3aGVuPSIyMDIyLTA5LTEyVDEzOjA3OjQ0KzAyOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjMuNSAoV2luZG93cykiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmQ5OTM4Y2Q3LTUzMjItZmY0NS04YWEwLWYwYjUxZjVkMTYzMSIgc3RFdnQ6d2hlbj0iMjAyMi0wOS0xMlQxMzowNzo0NCswMjowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIzLjUgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8cGhvdG9zaG9wOkRvY3VtZW50QW5jZXN0b3JzPiA8cmRmOkJhZz4gPHJkZjpsaT5hZG9iZTpkb2NpZDpwaG90b3Nob3A6MTg5M2NjM2EtNjE1Mi0wMzRkLWFjY2UtN2I3ZTQ5NDVhNTBmPC9yZGY6bGk+IDxyZGY6bGk+YWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjY3YzFhMmU2LTNjNTktMTFlNy1hOGY3LTk5NTFhMzY4ZDFlMTwvcmRmOmxpPiA8cmRmOmxpPmFkb2JlOmRvY2lkOnBob3Rvc2hvcDpjMzI0YjU5Ny02Yjg4LTExZTctOTU2NS1kZmZlYWMxYTI2ZjM8L3JkZjpsaT4gPC9yZGY6QmFnPiA8L3Bob3Rvc2hvcDpEb2N1bWVudEFuY2VzdG9ycz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4zMRPbAABSaElEQVR4nO2dd3wjxd24n5ndVXXv17nj+nH03o7eQgkkEHoJnYR0Ut43yS8kedM7IUAIkEAIJfQOgQu9w1XuuN6bfa6yZZXdnd8fsnyyLNmyzpavzPP5rFVXWtmrx9/5zndmhFIKjUajGShyuA9Ao9HsnGh5aDSavNDy0Gg0eaHlodFo8kLLQ6PR5IWWh0ajyQstD41GkxdaHhqNJi+0PDQaTV5oeWg0mrzQ8tBoNHmh5aHRaPJCy0Oj0eSFlodGo8kLLQ+NRpMXWh4ajSYvtDw0Gk1eaHloNJq80PLQaDR5oeWh0WjyQstDo9HkhZaHRqPJCy0PjUaTF1oeGo0mL7Q8NBpNXmh5aDSavNDy0Gg0eaHlodFo8kLLQ6PR5IWWh0ajyQstD41GkxdaHhqNJi+0PDQaTV5oeWg0mrzQ8tBoNHmh5aHRaPJCy0Oj0eSFlodGo8kLLQ+NRpMXWh4ajSYvtDw0Gk1eaHloNJq80PLQaDR5oeWh0WjyQstDo9HkhZaHRqPJCy0PjUaTF1oeGo0mL7Q8NBpNXmh5aDSavNDy0Gg0eaHlodFo8sLcnp2FEIN1HDsL6R9YpF0Xafdnui/9uspwXfVxPdN+mW7vtNR9pwmFiUCBEiBAKnCFwO26roRCuolfY1SB6xoEPTEcx0AIgcKh958rC0IhlIFSCsN06Ih6kNLBK0i8hrBRSiCQIMFVIFAYRYr2Dy3802yMYoW9URLzGljSwbYEXuViuwq3RVJaLWltB9PjIj1RhG0SERKvEihU4q/XfbgSQ8UIWV5KOwf2u1v728DAdtgOtkseuxGZzsJsghB93JfptdLFoMgsj+TplX49/Xh2GYlodmy0PPomX2n0taW+TnokkcuWCS0RTcHR8shMf9JIXqZvMsv1vqKPTBGGAtws1/sSSbpEtEA0Q4aWR2+y5TVykUa2y9Tr6e+RLcJw2SYNQf8SSW01J+/TUYhmyNDy2MZAmiiZpCAzbNlEkkrql9+lpzjSb6dLxE07Vp0P0RQMLY/8mih9CSO5GWnPSV5Pf89sEUdfm0i71PkQTcHZ3eWRbxMlVQYGPYWRfl96JJL62v1FHU7aZfJ68nUyCUTnQzQFYXeVRzZpJK/3l9dIjzCMLNel8PitokPOGRk48IzTjUD5PoysqXADRqO9buVb7c/cMTvy/vONZI84nK5N0lMc2SKR1OglXU66KaMZVHY3eQy06zVT3iI90si2ScCoOP8nx/smHnSdMDyjUPiVNyBkcdD1jA/sX3bNL07unHrQba33/ngB2cWRuiXfNzUiSRVcaoI1NR+SjpaIZrvZXeQxmHmN9CgjdTMBQ/qKrOLjrpgS2P8z1xjBssMR0oNS4LiglA2YGGaRDJbuHzzl8j979zvuP233/fRv0QVvNKl4NE5Pedj0FIjNNoGkiqS/aEQ3ZTSDyu4gj6HIa/QSRvKy6LDPjwkedu45VtW4zyNlUdp7d9Uhp3SrCuk16/Y4vfxrtx4aXzHvkbaHf/N8bPH7zWwThUFPiSSF4dBbIAPJh+iuXc12sSvLI5+8RrYelPRow0y7bvqnz6oqOuILszxj97pcWL7RAz5Yy1vlmXrwdRVfv/2o6LzXHgk9cev79oblIXpKJDXqSF5Pbcqk5kMcejZhUvMhyd+B7trV5M2uKI/ByGv01zzploZZOcZfcsLVB/kmH3KhDJYfur0HL4srZviPPHuGNXHflyIfvPRC279+Ppdt4jDITSLp3bmpAgHdtasZBHYleQx2vUbWnEbXpVn22e/s759y+GeNsrpTEMIYzA9j1o0/qei0K4/y7nX4M+E3Hn+p4/m7l9NTIOkS6SsfkoxKMkUiOh+iyYtdRR755jXSxZEt2ughjcD+p9UVH3P5hWbFyJOE6akZqg+FYfqt8TPPLa7d42DfASe+2Hr395+2N64IZTjG9HxI+u3U5kzy82crdwedD9HkwM4uj6HMa/SSBmDU3HD3BWbt+M9Ib3DqEH2mXshA8TjvjMOuqfp/Dx8RXfj2k8233PgKPZsr6VFIajSSrXs3PaGqS901A2JnlcdQ5DWSl72SoYBReeHPZnn3PPB8GSjZDyGtvI9cqUzHnhOypHKG75BT96id/Nas8OwH/hV6/M+L6SmOXPIh6d272XpmMh59ynUtkd2cnU0ehchr9JBG8VEXjS86/LwrjNKaY5FGcCg+1EAQhhk0qkYdUXT2V6b7Dj715bZ//vSh6CfvNJK7RDL1yuh8iGbA7EzyGOq8Rg9peEZPLyk766ZzPaOmXt4ljbwjhqFAWJ5ya9z0z1fcdNfR0Xmv/7P1vp/MdrZu6KBviaQnVVMjjkw9MzofosnKziCPXJoog5XXMLzj9y0rOuqiw3yTDrleWL6xQ/WhBgUhhPAGan0Hn/JNz7SDTwu/8fg94ZfuXWhvWZNNIuki6avITA/91/TJjiyPgTZRJNnF0a80jNIaf8nxV+7rmz7rEqOo4ogh+URDiCyumFZ02pW/8u17zAsdL9//WFfXbnqXbrpE+ioy0/kQTZ/sqPIYaBMll7yGpHcy1ADM0lO+NN2/17FnmJVjzkUIOVQfqhCYI/c8peTC7x3hP/iURztmPzi7843H1pFdIn0Vmemh/5o+2dHkUai8hgGYwQNOHxk85OwTrBGTzxeWd8RQfahCI0yr2DP14MvN0ZMO9x962rOtd/3gP07TpjCZi8uyJVUzDbrT+RBNNzuKPAbS9dpX8ySn6lBh+TyVF/38JM+4vc+V/uJ9huQTZUGKxDeyIO9VVD7Zt/8Jk62x0w6Nzn/9uZY7v/c22StU0yWSXi+SKmydD9EMuzwGs+s1p+rQsjO+uY9/7xOuMILlByBlwVbIkRIcG1oijioRYBRQIkbVqMP8R39+umfqwe92PHfXQx2v/Gs1/UskW5GZzodogOGVR75NlFR5ZCry6pUMBczAviePKDnp+muMkqrDhempHqoPlQnTEDR32LS3x6ioLmFjh0OpcCnzSOJ9TdkziAjTKjVH7nlyySXf38c/69xX2v7xo0diK+a1kF0i2ZKqO2I+pA4YBcwA9uy6PRqo6NqKSJwLvq7nR4A40A40Ac3AemAzsAL4BNjQdVuTheGQRzZpJK/nmtfor8jLAEyjfESg8qJfXGDV7XnekI5DyYAhBDFXsaU+TCBgcfPJE8QXDqw1/rwkJG6d10x7xKG6yMIUiSUMC4HwBuo8E/c9v/IHDxwX+eiVv3eVuqf//lKnAOhv6P9wTIU4GdgXmAXs7ZHuvkhV5LgShNv1Yn2W5ZT0uKW6lqcU4DgSn2kDqh0l5wJLgFeBucDCAR7nLo1QKv+zdoBr1Q4kr5EujPRIo9+8hlE+IlB22lcO904+9GrpCUwc7FGv2Uj+SpQLDaE40nE5c2Y13z9+DNNq/RhCYLuKOVujfOv9Rt7bEMbwGZR6JEKIwnZPKDfutjUt6nj5n3d3PHfXYjccirJNGMnNyXCZ3NInZ05dLiLTwDsyXPY4Isi6Vu3BrhCnu4ITpVIHAmbvnOxg0/P1hRLvI3nRVbwoUG/t7mvVFkIeBc1ryECpt+iwcycGDzn7KqOk+rg8PlZeCAAhcF2X5rCN3WFz0B4lfPv4sZwxrTzj7yruKP61PMTP5jazoiVOsd/AZwlMKVCqoBKJxdcuea796dsf63zryfX0FkhfEskmkNSEaraemdTL7qNJkcdklDgfwbnAXgCJr9pQyaJvlFCIbUOTFhhF6on2D62H/NPsT7Q8Brpz//IYzLxGv8nQ4MGfHVN02HlnWHUTLkbIZPt2yDFkIpoIhW3awnGmVvj54uEjufGIEfjM/stGNnXY/GVxG/csamVD1KXMKwl4JFII3O34+wwUFYs0Rhe+dX/Hi/94Kzr/9Xr6l0imLVeBpOdFuq/XfafpHIV5pYBTh+7TDiKCF41i9Vd7o3xMyyPXnbPLI5cmSl/i6Cva6D0F4N4n1BYdcs6RnjHTLxCewJ55f6ABIgUgBK3hOK1hmzEBk7P2reWbR49ij3LvgF/v3foIf1vUxqMr22lxFFV+A79HopQqWE4EwG1rXBD56D//7vjPP+fGVy1sY+ASSV93Jr1rNz0CUQCV32u7wuu4X3KF2G/b0QxPlJETCoQBSgESVKuYH/Maf7Kkc5eWR387Z5bHQKON/oq80itDewxgq7rsdyd5xu71WRksOyTvDzJQBFhSEIo5NLXGMIXgzBmVfO3oURwxrqT//fvhqbUd3LaglRfWhTFNQVXQwGMI7AL1zHShnPp1b3Z+8MKTbf/8v4/ZJotcJdJXPqRHJFJ+wdbPWXXGTYbFAQqxLXHUzQ4skCQuCJ9CuGBH5TzbEj/3KvchLY9sO/eWR1/iyFTolS6OvipDe0ij7Mxv7eufMes8o6T6mEI2UUwpcAQ0NEWJRB2OnlDK12aN4tQpFfiswatsb4u5PLCindsWtjCvPoKvyKTab4JSOAWMQlQ82uRsWfNm+9N3PBp+/dG19BTGdkmk7ppPj3RLK79v+uQsFRNdU510nSY7o0C6EEIhFCgh3rBd9UO3Rb6q5ZG+c88/cH/i6CvayFka/pnH15SccPVFZsWoEwtZUi4A05S0dMRobooypjrA/x43htNnVDKqxJPTa7z/0Vza29uprqpi5ozcJiJb1hbn/qUhfrOwhY5Oh8oSi6BHYBeqwqwLN9y22l776X+bfnvNQ257S4Te0shZIv5jflpUNO6SH8gq33WIxKmQOJeSUcfOL5BuFMRbxK2l1fKHre00aXkkd84uj1wSojmPeO26NGuuv/ML1ohJnxOewIS8DzoPDCmIOYl6DZ/P4LpDR3LVoSOYVuPPaf/nX57NnX+/n/c+mkM8Hsfn9TLrqMP4xg3Xst/ee/W7vwI+bohyy4IW/rEihIWgpsRMFF0Usk5TKdcNNS2Ozn/jieZbvzabzNLoUyIlV75zsr941K+kzxjpxoyEIHIWyE4oD0B4FYbDxs5288umx31cy4Me8shFHJmijT5Huya38rO/e4B/7xNvlL7gZIQceCYyT5Ldr1vaYqiozakzKrlp1hgOGluM1+j/RF68dDm33HEXDz32JEIIykpLQYByXRq2NlFSWswl536Om75yAxUVZf2+XoeteHldmF/Pb+adTRF8fkml38R1VWFrvR2702nc9EHHf+77V/szf11K5lxID4EI0+dUfPGdmw1v6ReFkChpJEpvhNwmCyF3WYGoZM2KErdJT/TLwjZdLY+uq6l3Z9iylZRnjTKkr8jj3+ekUSXHffF6o6TquIJKQwAKWqMOnW0xpo4q4jvHjObzM6vw5tD12tDYyL0PPMKf7riLhsZGxo4ehceyeuWIwp1h1q/byJTJE/nKNVdy/uc/SyDQfzTTFnP526dt3LKghXUhm0CRSaklUSgK2LMLrhONrZj/77b7fvJYbNnHzWSRSPFx/zvBu+c5v5emfzLSBGkkuimkgUB23e4jAtkF5AEkPgqgUAulUhdEhFyo5ZG9R6Wv3EavCCO5BfY5ubZ41sXnmLV7fkEYZnneBzhAknUVkbhLc2uM2jIPXzpsJDceNpJif/8Fqm1tIZ596WV+8+c7WLBoMSPr6igvK8VxsicoTNOkYWsjjU3NHHXYIXz12is59ugj8Pv7zwHXdzr8dG4zDy5poyHuUhEw8ZuJP0EhJaKi4c3RBW/+K/T4n1+Pr5zfQmLciA3YgQN+Pyt40JE/wzV9SBOEgeiWh9mHQFIiEkgRyE4sj24EQhGJSnWpV4l/787y6CvqyDYWpZcwANM78aCK4lmXzvKM3euiQi5tkJRgJO7QEIpRaUrO2qeGm2aNZmoOeY1oNMrH8xbwi9/fyguvzKaoOMi40WNwXRfX7b9/1TAMlFKsXL0GgeD8c87ihqsuY5+ZM3I6/g/ro9w8p4lX14aJGIJSr8RvFrhKFXBa6j+KvP/Cv9ufum2u07ipo+Qzt33BM2Lal7EtMEyQZmLieWn2FkhqE0bIrjmZdsHoIwWhFAj5XYX65e4uj2xdsdkqQ63Uy4rzfnSod9LB5xnFVSfmfUB5YBiCWMxlS1sUoeDUyRXccORITp2SW8Cz4JNP+du993Pfw4/Q2Rlh4vjxeH0eYrH4gI/FY1mE2ttZsWo1dbW1fPnqyznv7DOZsMe4nPa/f1mIvyxs4+2GTnymoDRg4u2qfi0k9vqlT9tLWkoIF88S0gSZkIcQJhgWifvM7svuJozoEkq3QLZFIsAuFn304M8obtzd5ZEp6sjU5ZqUhlV2+tf38k0/+iyzfMS5hcxrGFKggIaWKJ1Rm8NGFXPFEaO46uDanE7NTVvq+dfDj3H7Pfexdv0G6upqqKmqJBaLsz2/UyklhpRs3LKFzVsaOGDfmdx4zRc55/TTKC4u6nf/rRGXe5e2cfuCFpa125R4JSWBRH1IIR2iojbO8gacze2oToUwrJ6Rh2GBtBIRSFImSXlImbn5suvKAxT3IrgscWP3lUd6cjSjOPwzj68qOfHaC8zyEWcJyzs+74MYIFKAYUi2dsQJtcYYVeLh0oPruP6wEYwpy81djzzxDLf89R7e/2gORcVBRtXVIqTsM7cxUCzLJBqNsWHTZmLRGKccdwzXXnkpJx03K6f95zZGuXNxG/9Y0kZHXFFVbBL0SGynsD0zbnMYZ3UzzuYOhEpGHta2y9QIJCkQmWzCpEUfu7I8EjwAXLi7yiNbr0pqtGFWXXnLCd5xM78kPIF9837zPLAMQaftUt8YAVNy0cwqvjZrNPuP6v8/OsDb733ILbf/jWdfno0hDWprqgkG/Ni2PSRfSCklhmHQ3NJKU3MzPsvi3LPP5IYrL2fa1En97u8qeHlDmFvnt/LUug4MCbUlVmIWs0KWujsubmMYe2kjKuR2RR6eRORheBJNli6RJJovZkIYMjX30dXLlZpE3TW5F+Rlu5M8cmmuWIBZc+1dp3nGzfg/pKgo1EkghUBJaGyKEo45nDi5nO8fP5b9RhdR7O2/F2X5ytX8+a938/ATTxMOh6msrKC4KCGcXBKi24thGLiuQ1tbO00tLVRXVfLFi87nqksvoqa6st/9m6Iur6zv4JfzWvhocwRfwKQ6KBnEQCknVEeM+IJ6VIvdFXF4EvIwPF3NFytL9JHedNml5QHIPxsqduPuJo++elaswOFn1JWd8a3ZhigpBheFzVCfCFIKOiI2za1RxlYHuPn4cZy5VwVlvv4nUQt3dnLnP+7n1jv/zsYtW6irqSbg92MYEqeg/7oTSClxbJu29nYaGpqYOmUi3/nKlzjnzFOxrP6Xz90acbjn0zZ+s7CVrWGbiiITvyEKUqUqpEiUam9qwV3RigqpbeIwPGk9Mckkaqo80npfdmkEhorfFLK8v9kd5ZExz1Hx7Vu/alTUfcOgSJmUKYFHqu4hD4NHssgr6iga2qJUWCbXHD6Srx45ktri/r9ksViMF2e/xq//eCsfzp1HbU0txUVBhBDblQwdDJLdyo7r0tTcREtzK8cfcxQ/+u432WevGZhm31J0FawJ2fxkTiMPrWgnpqAqaCCFSAzmGvwDTvze4g52LI6K2dDcibuoNZH3MLwp0UdK7iNFIL3lAUMhEFdBZ0zRGc9c9i9I5MwsA7wmeExBlxMH/Wikcmm3rDNLO3l6IPvtTPJIz3dkjToAq/rmB+4XXt/hChuBoQxVginKACkUDtt76iaPJm4rGsM2ftvlxL0q+eHxY9l7RP9rVMdtm0WLl/DrP93OE889T8DvZ2RdbWLc+DBLIxOyK0m7bsNGDMPg4vM+xzduuIYxo0ciZf+VsLM3dPJ/c5p5Z2MY25JUeQ2kAQyGRJLScF3cSBzXdlDKRUiJisRx3tmEMJPi8G7rfUn2yggzQ9NFDpo8BImReq2dikinStSPmzgjy2TbiFIh/JbwAh4S568DOI4iFreV3RbFaQgps7lDBXFUYr5E1fWyhmBEaaKUdPtOGYEgHjfj3qnAylz32lXk0UMcgFX9k4eeEZZ3WmIXF4WthPJgigokQQRCqO4R2wM4DkAaglhc0RKO40Qd9h1bzPeOGcNn9+o/JwCwas067vnng/z1H/+kNRRi/Ngx+Hw+bNse0LEMB5Zl0RYKsXbdBsaNHc31X7yMC889m9rqqpz2/8uiVm5f2MqC5hgBr6TUZ2CKPAfdCboiNFDRGHbcBld19Zp0nS4xG/vNdYmow/SmNF2slC7c1KaLMWjykAIiNjS1uCCw96yToUPHm+qoiUbn+CpZtmeV7BhXKTElfiApEIdE1WzUcYk1h5W7oVWZW9rckphNpKVTtS7c6FortzqlTWE6F2xwyuhqqW0fCink0rjDlLhrEGnqv6ndeXf/kfVgMVjyyNQ9my4PT/VPHn5aWJ6UylGBIo5CYSifa1IupAgkjqvHIu7ZMaUgrhSh9jhtYZu9agJ88bARXHVwXU7J0E2bt/Di7Ff57S23s2jpMkbW1VJbU0M8vn31GoXGkBJpmqxbv4G2thCHH3wgX7r6ck4+7hiKivqPurZ2Ovx6QTOPLA2xMuxQ7JWU+k1ErvOHCJFoWShwY3GcmItynG6ZpKKiNs6baxCGF7qiD2F4tzVdekQfycgjtXwdBioP2SXDLY0uwiMip0w3Oy4+2OLEqaasLhY+thUtDpQes8eHInRM/lGotD2qRJF3+xsz0nCJx43b465x/Y4mj8FeeiFbwVhiU+llSgqBBTi4IiJjbFGGCmCICmXgQaGEIp720l23RCJsbwvHaWqNUhPwcN0xo7n6sJFMrOx/XEg8Fufl197gN7fcxlvvfUDA72fvGdOQQhKLxbbndzAsOK6LE4sxZtRIotUx3vtoDh/MmcPpp5zEDVdexlGH9T3RWpXf4JcHV/GFPYv5w7wWnljVzvqWGKVBkzJLYvcxcld0FdypuIMTs3HjTvf9WVFdzRjlglLbrqMS8b5SdCdhBGxPZsGQ0NihiLQr++T9rObvnORRx042AyTWc9lektE2gGE7qswYvDmhcB2JR7jXxTGeBF4YvFfefgZTHpniyfREagZUYmAUBgpHOKIdl4hSqhgpypTAK8BOrKvR9dKWFEQdl/VbO1AILt6vhquOGMWs8blNAfjR3Pn86fa7ePY/rxCLxRg3dgwlxUVEozGcATaZdjTi8TiGlEybMomm5maeeOZ5Zr/xFhd//hyu++IlTNqz76lQ9q/0cs8xtVwwqZjfzWnm5c0ROqVDZZGJJekxFWKiKQLKVbjRGE6sK/GdIdroSZcccLddds1KqJRCJGcoVKq3L5RKabr0j5SwodEl4BehP1/ib//SMZ4g6eu2DCIxZ/AHJSoBgZr4fZEmcywwwP6XoWMw5JHpL5k58uiTpEQkCkfYollBGFOVKUMUIZACYSOlYENLlFinzWHjSvnGMaM5bWoFAU//um9sauYPt93JPx96lK1NzZSXlzJ29Chc1yUa3fmijWwopYjFYpSWlFBSXET91kb+cve9vPDKbK6+7GKuu+JSfL7s1bSGhFPHBNivyst/1nXw44+bWd4UpSRoUhYwcB2BkgKUixOxcWPx7i9Mrg39bVGHuy3SUCnS2PbMvH8PhoQNW13GVcnmR68LxA4Ya1Qz/EusDhgXgem4VcXt0T/JA+JX9/3s8sIcFIOT80iPLlKH2nfnOwBv9Y8ffFR4fNNye3XVFW2gpPLhFRUgAmL91hAjSi1uOno05+5TzcgcpgC0bYe7//kgt99zL0uWr6S8tITyslJM0xzUkvIdESHAMExisRhNzS2EOjo45ID9uP6KS/ncWZ/J6TVWtMW5d0kbv5vfQgeKkaVeRNQmFomjXLer9CL3aEBF4tivLUv0tpi+rryHN3PSVCaqTUWy5yXHWg9DwoYGlz3rjKbXvhVwRpXKgiwxuqVNsf/P22mLKAYj59GNC8IDbrG9H4nV6zKy+Ts7rzyyJkvZJo8BDrVXgIPrCtUR9XPJXhP5/oljxegSb07n68uvJvIab773AcXBIBUVZVimhVJqp0qIbi+iq+s0Fo3R2NJMLGZz5qkncuM1V3Lgfnv3u7/tKhY2x/nRh428uLqVgFCYUuaVhkjIY2lXV22aPAzPdsvDkLClRVHsp/2j7xVFxlfJ3LqdBoEhkweJb4JVoj5sfM5/ULbnhN/ceROmmdjOkkCBFBbtdkzEaeamY2sZU9r3ADbHdVmxchW//8ud/PuJp3Fcl/Fjx3TXPhSipHxHIylLy2NRW11N3LZ5/OnnefnVN7jqkgu5+vKLGD0y+3zSphTsW+nhkj2DvLq0kaghsXzb0b5PbaYk7kh/Ql4vK4BwFOy4ij7+jaKO8VWyNs8j3OEQAIY6EPgs8MRwHgsUtv2Xt0AUCiEkhrBo6ohDH6UbTc0t3HrnPdx9/4NsqW9gj7Fj8Hq9OI6zW0Ua2Uj+DizTZML4cbR3dPDz3/2Jfz/5NN/9+pc5+/TTKO6ja9dB4QjRT0I0pyMhqyBS/05dSVOlVE6RppDQ3OjyjbO8LbMmGqXbeZA7HM5WQekxkV92NHieGO5jGcROpV4MySCEvr7+cxd8wllfuJQf/fzXuK5i2pRJWfMaQgiklN2bGJQvxM6F67oEAwFmzphOU3MLl133Va645susXbc+6z6DrV+lUhOkPYUy0MkDhICmdsXYUbLtp6d7PUDB1vMpFMoQmB5nMnD+cB/LTpd5zkb91kauuOFrzJ+3gL33nQkI4vHM1aGmYRCORGhuaQEFlsfC7/Ph9VgYholMVkOqxOm7KzdzlFLE7TijR46guqqKRx98GMvr4a6//JFADvOoDuKBDMpLRNqU+82zvVG/JQqXOSwwjpIE3dgPPZPUg70fLdh8WruOPB589AkWL13O5GlTUApcN3MvimmahMNhmlvaGDmiDlC0trXT0tqWmJdDKVzXRUqJz+fD7/VSXFyEISXOLiyRaDyOaRpMPfggHnnmBS676B1OOeHY4T6sAdEWUYyok+2XHerJt1p0p0C1C0Qt04CTgJeG6zh2iV+wbTss+GQxwaAfyzSzRgpCCKKxGK2hEN+44RrOOO0kBNDY2MS6jRtZuXot9Vu3Ul+/lU1b6tm8pZ5QRwdr129gRG0Nfr+feDy+SzZvBOA4DkG/HwF8PH8hJx03K6cBdjsCAgi3Ki462HJK/SK31bh2VgwARaxRfKv9NW9PeXy7cIexS8gjES0opOj7RDcMg5Wr13DiMUfz1euvylgoFY/H6eyM0BoK0djUTHt7B088+wL3PfwI1YaBIWVhF1gqMLZtY5qJptvO9DltBVjET59puQxjrqO2JPGPpSDzxQpOBMYCawvwbr3YJeQhpcDqmscikZXPFhko4vE4xcVFyCyVkJZlYVkWJSXFjBk1EoC995pOQ1MTDz/+FNOnTCYeH/jM6DsbpmHsVFPuhGOKEZUyesR4YyjOaQeItnaq0IoGN9gRI5jtNGsOJ/JkVv9jMrcLFRcoAZWf7/wi8KNtj+S2bvJgsEvII1ccx2XM6NG88fZ7PPr085x/zlk5df+VFBdx9mkn89hTzxKNRrvXWdHsOHSEFbMmmZHKIjGo53TMoflvb8WizyywvasbXbm+2RXhWPZhelJCZVAQ8IihXXgrMayI6FZ5oYv80RC+U1Z2K3kopSguChJqD/GtH/yYf/37McaOHsWUSXsyasQIaqurqKmuoqa6mqKiAKax7d/H9KlTGFVXR3NLK9VVlVoeOxpx1B6VMsDgdTeot1Y49Vfe22kuWe1U48Xw+gRBj6CiKPHFzXQGJIVSqNNDwCRgf+DjwrzjNnYreUCiTR8MBPF6vHw0dx5vvPMeth3HY3nw+/wUFxfh2nG+dPUV3HDNF7ubQ8XFRVRXV7FxyxZqq6t2yLG3O8I0icOBSuQ7nD2rZBtQNxgv+eYKZ+tRv2wPoigaOVIWfPW9XFEoDMHn0PIoDMmu2Oqqqu6Gq1IK23GwXcXqZcu49/4HufiC86gsLwOgrKSEKRMn8OZ/ZlNfXLwD1n4ofD5f96zuu5NEFIAhmFQjk3NZble6pjNG26V/D5soikZVy8IuUzFAXAWW5KS44/5vod97t5RHkvTBcYaUWKZk/PQZ1Le2sWHjxm55+P0+zjnjMyz7dBnFFWVYlpX3FzQxCDWxqPZgIGViwNuCxUtoawtR1s/i2rsiUiBL/aL/KdP6x73zrVh81RqnasQoY4cWBySWFXFcdz9gHLCmkO+9W8sjE67rEvT7WLNmLW++8z4zp0/rjk5OO+k4Zh15GEq5/XYL90u2RnM+LyUEjmPz6lvv8t0f/Yz2jg78vl2uMrs/BIl8x/Z2EoWfXmBb+MWO2U7JjCEER6HlsWOglGLpilU4jtNjOYNgYMetPzr95BP4aO58fveXOxg7avRAptjYqelqpwgxCPUd9SHVuXKra/j9O0+di1IKwzAPA/5ZyPfdOcoHC4zrupSWFrN4yTJiO1lNR9DvR7m5jUDdBdnuT72myQ1ubnP9AWsn+gUKULgHtBS4GljLIwPKdakoL2fp8hVs2LC5x2O24xCP2ziOg23bGXMLjuMQj8dxHQfHtnFsJ5GMtZ1e/80cx8W2HZzuzcax7e73SMdOvp7tEI3GeiVuP12+Ar9vx42OdnQicfyROL6dpCofAJmYW3w6UNApCHSzJQMK8Hm9bNy0mY/nL2DSxPHdj731zvt878c/x+v1UBwMsnFLPb+++Qcce/Th3c95+70P+N7NP8e0LEqKg7iuIhKN4vV4uOP3v2R0V+UqwB9u+yv/fvIZKkpLkYaBEIJQqB1Xufzsh9/jyEMP7n7u3fc9yK133kNdbTVNLS2cdOwsbv6fm7ofb9jayIKFi/ucj0PTNwp2nvZKCgKKpZCTgQ8K9Z5aHlkQQmA7DvMWLuIL55zZfX9xcTGb129gc0MDtaNGsnrJcj6eN7+HPBSwdOkyOjo7qaqpxnVdOsMRfD4vkbSJlteu38hHc+dTXVWJYRgIKWnZ2khFcRG+tAjio3nzmTt/AVXVlTQ2tfC5M3rOQbpsxSrWbthAadmQTQ6+yzPA6Vh3CJKuK4l1TgOPlsdwo1yXgM/H+o2bety/5/hx7LX3TFrf/4DykhJaaqtZvGx5j+eMqK1lzLgxrNuwkYqyMhzHwef14vN6MNIW9QgE/FSUl1FeWpqQB+DE48yYuRdTJ25bJkG5isamJkaMrMPn8yGEZL+99+rxWgs+WUQkGqVspxqVohkMlFIIw7NHId9zJ2rZFRZFoqp01eo1dHZuWyqjuKiIsWNGIUhEJoGAn42bNvfIPYwaUcvE8eNxXTWgWg4BOEphOy57jB3TY6W3jZu38OnSFfj9fhzHZdTIOqZOmdRj/09XrMCyzJ1mGL1m0BlTyDfTZ1kWlFIEAwGWrVrFvAWLu++XUrDXtCmJuUGiMYqLilm1ei2r167rfk4gEGDSnuMTSzUOZK1bIYjbNsp1mDZ5Yo+H1qxfz5atW5HSwI7bTJowgVEjtlViu67LuvWb8FjexExomt2KRDM7PrL/Zw4eWh59IKWkvSPMJ0uW9Lh/0sQJeDwWkWgUn8diy9ZGli7vuZD5xPHjkYZBNBYb0ORBjm0jpWT8uLE97l+xcjWxaBSUIhKLMnpUz5nO12/YyLIVK3XksRsjRGGnXtRnWT9YlsX8Txb1uG+P0aOprqzAdmwUYNtxtjQ09HzOuDH4vF6i0YHJQ7kKj9dLVWXPKeKXrliZWCkehW3bTJ20Z4/HP12+ks319UhDRx27MVoeOxJBv5+16zb0uG/smNFMmzIZ13UTg+yEYP3GnvUgVRXlBAPBAQ+gU0pRVlJCbXXPdYo2b6nH47FAgM/nZca0nmtnLV+xEtdxMaW5Ww2K0/SguJBvpntb+sHn87Fm/Ubq6xuoqUmsWGhZJpP2nMArr7+B6zgEAgE+WdyzaVNRXk55eQmtobacv8xKKeLxGFMn7tOjWRKNxti4aQumaRKP20wYO5YZU6b02HfuwkUYhoFlFW7FsEFHJEaJdkQUyMQmui4heUmvOlJHgRNWPRbhzhfbTbxWqwH5BHEBj8BrFmgawt4U9I+v5dEPlmWyfuNG5i78hJOOO6b7/jGjRuK6irjj4Pf5WLt+PaFQO8XFiSHxdbXVTJ00kRWr1+K4bk6dp67rEo3FGL/H2B7jaVavXceqtWsxTElHuJNpUydTUlLU/XhbWxur167DMCSGIXfayEO5YJioulKJkFIIKUFKhJRdS05mXm7SUdBsKbyDcDZ7TSirkJQHRT7yUI6L2xFVxjClnQq37gJaHv0igFg8ztIVq3rIY69pUwj6AziOg+Wx2LRpCyvXrGGfvWYAiWTrlEkTeeqFl3Hs3IbHu67CthNLY6ayas1aGpubKQ4WEY1GGZOeLN24hU2btiCETC43s1PSGlFMqlWt91/ldcuLfRWmYWKaJoaZSAIbXRW4mRboUirxX397OWQPg7X/V5RXoZiA2KX/iLQ/PideWVu66+eetDz6QUqJz+Nh4aJPe9y/x7gxVFWV09TcgpSS5rZWPl26vFseACPr6hDKxcmyhkw6Srl4vV6mpdVvbNi4CeUqpCFBKSZOmNDj8WWrVrG1qQm/z7vTigPAdUFK3Ooi6Xo9AtPctkkpMAyRVR6DhSGh2Jf/a69vdoq2d7aG7SDW/1MGD50w7QcpJV6flyXLVhLuCHffX1NZweiRIxNRhUoMCt9cX99j3ymTJhAMBhMD3HI42V2lKCkpora2psf9i5ctTyyJCVRUlHPAPj1XtV+9Zi22bePxFG7m7KGgK2oS4bjaKf9tt3bS0hQm6hm+f8kFHQKu5dEPQoAhJJvrt7B+07YeFcM02WfGNMKdnbiuwjQMNm/Z2mPfkXV1VJaXoxyVU1vCtuNUVVQwqm7bwu7xeJxVa9ZhGAaRSIQ9xo1mwh7bakBi0RjvfzgHpRJdvDtrvmNXYMFGx7u+xRWD0XzKk9ZCvpmWR78IpCFpbmllSdoYlqmTJxG3HYQQeL0elq5YSSy2Tf5VlRVUVlXgKDengZqdnVEmjBvbnXQFaGppoWFrA1IKWtpC7D1teqLLtovNDVtZsSax5o+hK0uHE3dDi+uNhFSxd4jXbOkDLY8dCaUUpmliOzbLVqzq8di0KZOoKC8FFJZlsWzFSrbUb4s+vF4PE8aNJRaLofqp91BK0dERZkpa8demzVvY0tCEYSTK0ieMG9fj8abmZlpbWzGGZK0jzQCI14dUI3I4Zy9UTYV8Ny2PHLBME8uyWLj40x4T9EyfOpk9xo0lGkusX9vS0sr6DT0LyqZNnpiYtEcpRJYO2+SEyArF2DGjezy2cvVaWtvaMA0Tr9fDHuN6Pr56zTpaWlspCvoHbUJlTV5Yc9a5RQxX1CEUwrU29P/EwUPLIwcMKZFCsvDTJWzasi0p6vV4GFlbS1t7O0opQh0dLF66rMe+o0aOwHETs4/FXadXTsJ1XeKOQyQapaSkhL2m9Sz+2rh5C/FYjI5wmBF1NRy03749Hl/06VI6I1ECgYDOdwwv0Q3Njm+4JgPp+stvLOR7annkggAhBU3NrWyp7zmGZeKEPWjbtJlQqIOWllaWpA2QmzZlMj6Ph4atjbS0tPYqVw93hGluaWHTpi0E/X72GNOzxmPRp0tobm1ly/oN1FXXUFGxbfhCS2srcxYswHXdHkVlmsITidPWGCY0XH8GoQSOiC3v/5mDhz7jckAp8FgW4XCYNes2cMC+27pKb7zmCo4+/GC8Xj/xWIy6tG7WqZP25OmH76OjPYzlsRg1omeB143XXsnnzjwNEBQXF1NRUdb9mOO6XP/Fyzj3s2fg2A6jRo7okSxt2NrEijVrtTh2AJbWuyXL6121PTUi+ZKMN4OWf0mfTxxk9FmXC0rh9/loC4VYsGgx55xxavdDVZWVHD/r6Ky7Sik5eP99sz4+eeIEJk+ckPExQ0pmzpiWdd9QezutrSH8Pp9usgwvqrHdjbd2quLhqCztWgKoHamW9fvkQUQ3W3JAQdd/d8HyFauIRqLDfUhAovK0sbmZouIiLY9hZnWT24pSvafHLwBKKAwlFgAthXxfLY8cSc7OtWbdOuobG4f5aBKJ1H888DCu7RDw+7U8hhcxd51bSXwYJ3Fz5bxoZ2GXGNXNlgEghSDUESYc7uxx/6NPPsvSFSspLSrq9x9PohLUk6gY7YwkJq4dwBknDYNYNMprb7/LW+99yLgxo3F3s3Vpd0BCjWEFw/TPWCiBMuw3C/2+Wh45okjkLxzbJhrrOf7ogUef4NEH/k3t+LE4/UzkkKzpgK6FtnN8f9lVB5KYgCghnLqaGjwei5ht7zLzpQvA2vni4fjaRjcmvYWdjCeJAleitDx2ZKSURGNxIpFIj/sDfh/YrTS1tvVbSQp0NzEGEnG4rktVZQUjamuxHQdP16Q/u5I4usYXKssQO1UbrLFDBRZvdgNBX+Gtp5TCkMYclFvQRa5By2NASEMSi8eIRnsmTC869xxG1VZRUl6ZU+4h+WXPPeqAcGeEZ158mYatjVRXVWJ3zcq+q4gDoMQvaOwQJRf/I4phuAjDREoDIc3EpEDCACESlbop4nUVtHYqbrvAz76jt+8LPHe9y/UPdFLqF8gcf7kdMeVVIALDMKhZCHBRzyEKX9qq5ZEziZGztu30WvXtxONmceyso3I+2QaOQCmXC889mwuvvIHWtjaKgsFdLklqGRC1MV9dYiesKBWIrukHhQThkmkmMRTQpth6hm+7j2Fru+Ldj+NQInI2s5BC1HU9v/B/EoGAJwv9rqDlkTsq0cxwHafXAtRSSjxDPu+cwdRJEznrtJP55R//wuSJE3Y5eSgFhgE1xSIxK4+UiRnjc5iGsMkcvGkIjQpJRdHApiFU3T8KzlLgo+F4450vNTVMKBJLQ7aHO5m74BPsHKcWHEwikQgLF39KcdGuF3VoBogCJQTeUucBT4lNciskOvLIEaUUHstDRXkZf7nr73i9Xo454jBc5Sa+yILudVVA5JQ4TUeI5H/VhBiUuy2xGo/HeeTJZ3j9nfepq63R8tjNEZYCGxofD/y9xwPfK9wx7BLySEwcPPSRgOM4VJSX0doW4qe/+QO//fPtGFIipMCxHRqbmojH4/i9fsoryxBC4roO/TaelcIwTaLRKE1NTbiOSzAYpLSsFFRivVvHcejs7GTkiLrE8P0hlsdA15vRDAv/AVYP15vvEvJIfJlcQCGlGNKkVTwep7goiNfrIdIZ6U6S1TdvZeyoUYweWceyFatoaGxiRG0Nlmng9PNFTE4x2NTcwozJkygqCrJ42QqaW1qora7GcWw8HouqygpgaL/YRldSOBYv6HSYmoHgAKbAqrZ/U/6F9KZK4bp8dgl5mKbBxD3H0xGOYNsOpjm0q6Y5joNpSIqKghiGZN2GTZx12il8/6avMWpkHUuWLufmX/6OeQs+oTq58lu24+nqcgyF2vnu177E5Rd9gaJgkHc/+Igf/N+vaGhsoq6mOrEA9hBHG0II4o6D4zpMmbTnkM1Qrtk+RJHC3SAWU85Lw3kcu0zC9NzPnkFVeTkrV63BsswhP/GT3+O2thAj62r5/c9vZsbUyZSVlHDIgfvz/W9+Fa/XS3NLYlpJt6v5kb4BrNuwkUMP2p/vff1G9hg7hqrKCk4/5US+ev1VxGIxWkPtQ/pZIDHwz/RYLP7oY4497GCOO/pILY8dFEO4hIXnxy1LA6RvhWSXkcfECXtwxx9+RV1tDfPmLyQejxdknotQRwfTp0yirmspyiSTJ06gsqKcaKzvEbhSCNraQuw1bSoeb88Fv/bdawalJSWEQu1D9kUWQuCxLFra2pj70Rxm7rsvv//FT6hMmXSoIGhR5YRwFHbMWAo8ONzHMpTy6FpgtHCcetJxvPDI/Vz8hc+zaUs9q9auQwiBHKIaDKUUpSUlzJ3/CStXre3x2EfzFlDfsLXfuTZcpaioKOO9D+f0Es2HcxfQ0NhIaWnJkDRZpJQ4jsOnS5fTHmrn21//Ck8+fB8z95o+6O+VjW09TN33pFzTQknHrFK0veb/jrPIINNWSAoZeeR99gsSg8KQgprivqsIp0yeyB1//DUP3nUbhx6wH8uWr6ShqWnIVhoL+v00t7Vx3Te+wzvvf0h7e5innn+J7//kl4lFnIqL+5aH6zKitpYFixZzwze+y6JPl7K1sYnb77mPX/7pVkpLSgj4B2+yn+Tnd5XLxs2bWbtuPZ89/VRefOwBfvqD7zBm9Mg+9/d7DExDkvuQvqxHQu9eqAx/m67j1U2oxG8n7ooPgSeG+VCAwiRMtzsCUQJ8lqHaQxH+8fZy8aVZU6guyi4Rj2Vx8vHHcOxRR/C3+/7FHffcx7KVK6mtqu5KchqD1mPhuC4j62pYsGgxX/ji9dTW1LBu/QYsy6C6qqpXNWrGz6cUdbU1PPXCS7z57gcEgwHWbdhISVERVZUVxAeh50OQiDTijkMoFGJrUzMH7bcPX732Ks5OmRmtLza3xnh+Tj2dnTECZQES67q5+f11RXqlqOj5mI46euKC8IIn4l5dfVxfObCyQh3RkEUeip7SSL/dP8nzRwqlbKWsiEOJMrj56Y8567aXeWr+WkLRvr9UHo/FDVdexuwnH+bLV12B4zisXb+etrYQhmEMWnPGth3qamsIBALUNzRQVVlGVWVi8FouEYNSiaH2o0eORJGY2HhkXS0lJcWDIg7DSAwoa25tY/XadQQDAX703W/y7MP/zEkcDR1xHpzTwFG3z+P2N9ZRFekkGAqD66IMSX6Derr+wMmIolfzRZOKWeESXyH+Cswd7mNJMtiRRyZBqLTL/hEioTXHVXTaqLiLUghDSiprinlnVQNn3Tabiw8Yz5dOmMGhe1T1+XKVlRX86sc/4PxzPstvb72d51/+L80tLVRXV1FcVJTzl7wvHMfB67HweixUV1HXQHFdNzG8H1+3ULaHxMrykpaWVrY0bCUYDHDlxRfw5asuZ1KWeVNTidour69q47ez1/Hi0iY8XoPRtUEMx8UNdeKJxHCCXpyAD9cwEMpF9DOfCZCc1GRbhCFSoo8e92mZAEihcBVbQzHP10Kf7DjrEQ+GPBL12L3vy7T1jRDJ2VwVEQdiNspRIiETgYvCUFBXW0ooHOOf7y7j2U/Wc91Rk7nkiClMqy3p8+X333cm9995K08+9xJ/uPUOPpo3nyZPM6NG1GFZJvH49o0NGIy8xGDlNjyWRTjSyfrVm0ApTjvhWK774mUcN+vInPb/cH07t769kYfmNdAZc6iq9FPsNYjbLo4QYBkIx8VsC2N0xokX+VB+D8oU4Lj0NyNHopQ/IQkhZNeo2XSZkOH27ocQio5N3ouAzn6fXEAGM/LIdLrkLo9E6KtU3FFEHYGtAARpTQsFOLZLsc8iOKqclpYwP39uHs/OWcMVx07nmiMnE+hnmfKzTjuJQw/cjyeffYE/3PY3Pl22nKrKCkaOqMO2bRxn5yzNVoDZVS6/au06QqF2DtpvH7589RWcc+ZpeNO6gjNR3x7nlrc3cv97m1kVilLit6gp94GriNs9fy/KSPxtRMzG09yO22lhlwRwrUSRnsj6e+wSQlIa3W3UZEI7k0SSu+5eIpGmSzQi7oDhLQjLxFA1W9I3F3Az/uGlAIHCdlExF2Juor5ciD576hxXIYCK8iCxIh8Lmjv45kPv8fT8dVx3zDTO3Xds9p2B2ppqrrniEo487BDuf/gx/nbfv5i/cBHjx42lqKiIWNpUgzsDPo+HxuZm1m3YyMQJe/A/X/8K551zBmNG9d2DAuC4cOcHm/n7Oxt5b2M7ActgdKUfQ4p+ZapMiXBdZCSGJxbH8Xmxi3woj5WIQjI1v4RMiThkSpdtSg6EbTd3zyaMAtdYAu51w30kmRgseeTSdHG7/s0kSCRDwVZKxWyIKbpfI8cEnAIcx8U0JNWVxcQjMWav2MJHyzfz+AHj+dbxM9h/bGWfrzF96mRu/p+bOOPUE/nDX/7Gk8+/gN/n614zdmcYIGaaJrZt8+nS5fj9Pq69/GK++eXrGD+ub4EmeXl5C7+ZvY5XlzXheE3qynx4LIlyVb9zsiZRyQjRdTE6oshIDKfIjx30okwD4TjdsWfCEUbXlhaBdN0WPbpyd0NxOAJZbsdNYX3GxAAUJSN2rImuh6KrNnPUAQrXSdRqGyKR1+i0E9GGo0RXBJLfGyoFSmF5Lao8idzFAx+sYvaCdVw+axo3nTCDymD2kN00DQ496AD+dstULnnzc/z897fw4dz51NXWUFZassMKJFkAt3lLPS0tLRxz1JH88NtfZ9+Z0/H5+p9Va21ThJtfWcfjc7bQAVSU+7HMrjqQHKXRCym7unAVVlsY2RnDKfbj+BJzrgrHTZwNwgBpdE0tmCnnkSlpuvtIRBY5tL/lO6fsSFYM97FkY3v7KlXa9T6bLSrWOQ8pIO4q1R5XqtMRKBJTNg3CeaFUoinj9ZhUVQTpsAx+8+xcDvzlM9z33go6432bu6goyGdOOYGXHnuAX938fQxpsHzlqu4RpjtKoVLyONrbO1i0ZClVlRX87U+/5ZF//JVDD9q/X3GE4y6/+O86Dr1tHvd+sBmjyKK2zIdlJlqM252z7epNcQ2JjNtYTSE8Te2IuIMyJG7UQcht0kgKRKRHIOyeBWIKgQy63wGeGe5j6YuhrvPYFnWAE5nz+r8IxyOqwxbYrhwsafR6c5U49wJek4q6Uja2dXLpXa9yyi3/4Z0V9f1KJBAM8JXrruTFR+/nyksupGFrIxs3bSYSjQ1puXt/JN+3I9zJmnXriUejfP+bX2X2U49w4XnnEAj4+9w/FHX497ytzLptHv/77CpCjsuoaj8+QyaWgRiCwQTKkChDIjujeBvbkJvbYF0IpNklECNFGOkRCD3rQLrZtWUiFH8CfjXcx9EfBU2Ydsx+eI1nzL6/MSpHfAspt3+22v4OpmtiycpSP53FXt78dCPHrqjnssP25MvHTmevkeV9Ju8n7jmeP/7ix5x+ygnccc99vDT7dXxeD5UV5fj9PhzHLciMXlImEort7R00tbRgSMm5Z53B1790NTOmTul3/7ijeGdtiFvfWM+/F2zFMASjagIIcs9pbC/KNCAax23oRIUUSAuE2TUzupESiQgEKQLJWMa+6yIE9ynFV4f7OHJhMBOmkKzS6C0OBxAqEo433fG1u8uv/a1jlI+4TJjWHoP0/n1iuwoPgtrR5bS1R/nrq4t5Yv46rps1lcsOmciEqqI+9z/xmKM58Zijuf/hx7j1zruZu3ARxUVF1FRXYVlW9zIIQ4FlWYQ7O9na2EQ0GuOIQw/i69dfxUnHHZPT/vM2h7n3vc3c8t4m4lGbukofPo+J7bgFHbXohuPE6yO4HQIMCyES0kCm5jwM0nMfu1OTRcH9Ai4d7uPIFbE9/zm7/rCpKXFBoikkAKPrutG1mV2bBVhFp1490zvpgPNkcfmZCBnM+yAGiGEIXAQtzR3EOuMcOLqca0+YycUHjcdn9T8qsWFrI3ff9wB33f8ga9dvoKaqkurKShzXHdTEqmkYKGBzfT2NTS3MmDKZG6/5IueefTrFRX3LDmBTW4xH5jXwu9fWs7qpk5JiL+UlHpTjUqBgAwAVc7CbItitcbANMDxd0YaFMKzEpTShaxMiKRSRJQ8C6ZGIo6CpXfHfrwc5auL2jSx9Y7nDsb/vGPDs6YPAfQoulQKUKzCr47T910dZbjV93az5Xt9N18FkKOSRs0AAq+S8bx9njZp8jgyWHpf3geSBaUiicYempsQgo8/tNZqrjpvBKdP6r4kAmP/JYm6/+14efvwpwp0Rxo0dTcDv3+6xKEIILMuipaWFNevWU11dzY1XX8G5Z53OxD3H5/QaD85r4NbXN/Dm2jb8lqS81IvHENhOQWdIUHZjWNjNUdxOENJKRBw9xGH2Fkdq9NEtjwxl7CnsAvK4BfiKIlGlsLvKI3kpUy6zCaRbIp4J+5QHjjznRLNu/IXC45+c9wEN+PhBSElHOEp7ayfVfg9nHbgH3zpxJlNqS/vdPx6P8/Z7H/H7v9zB87P/S9AfYPy4MbhufmNbzK7RvstWrgbgws+dxbVXXMKB+++b0/7vrA3xu9c38PyirUSUorzIS5FX4jjbP4B+IDihxjmRpe887raXj7IqZlyreoiiSyCGBcJIkUd6t63cVm2aLA/axeQhEosB3aQUv4Gu9ZB3InkMdnm6SLmevEzG8smopNe3KrZyXlNs5bxH/Qec9L5v/xNPN6vHXIQ0+v/2bu8BK1COS9Dvwe/z0B6O8rc3lvDKoo1ceuRk/uekmXjM7CejZVnMOvJQZs6YwrMvzuYPt93J3AULGT1yJNWVFTnPOyqEwDRNNm/ZQn1DI8ceeThfue5Kjpt1JAF//yfDxrYYv319Aw9+uJmNnTYVRRYVXgNBYaMNFY80RJa8c0/H+4+/H1n6bgMQD5zwy5X+UYfeLKTp29ZkMVPE0VXvQUpPi0gpU8/Y27KzoxBKhKMecanX5tHhPpp8GYzIA/qPPjI1YdKjEBMwhS/o8e173LjAwZ+5RpZUnkL6v5khRAiB67q0dMagLcL+k2r5+nEzOP/A3JoL6zds4m/33c+d9z5AU3Mz48eNxevx9BmFGIZBRzjMuvUbmDRhPNdcfgkXn3cOZWX9uzMcc7nnwy38+fX1LGnopKTEQ5FXYkjZPT9qQVBuPLZ+8SOh1+57unPh7E1AHLCTW9FBN47173XRr/D6pyItQG4Th0iJOOS2/IZIVp6ml6tnOB12pshDoFBKzpdwYcSjPvHa2+pqdrbIY7Dlkbyevsm0zaC3RHrIRJZU+gNHnLOPb8YRNwpfYBqIgsz0nlxzSSnF1lAn3rjL8TPH8N0TZ3LohGrMfkrnHcdh+arV/OaW23j40SfxeDzU1lR3z6mRim07rN2wnqJAgCsuPJ+vXn8VNdVV/fYwxBzF7KXN/PCVtcxf04YVMCkLWL3CviFHuXG7aeNbHe899mD7u48uV7HOGCnSSN8qr3j7h4a/8nIhJSoZfaRXmPZorqTnOmBnlYcQCoXAhVsNx7pRCFtFPAotj97ySF72JZBMUUgvkRgVdYHi068/0xyx54XC8o4h09kzREghiLsuLVtD+LwW1x85mWuPmcak6r6H/id55bU3+PUtt/HmO+9TVlJCMBgEkRBTU0srsWiUU48/lu989Uvsv9/e/b6e7So+re/k57PX8tCCBkwlqK7wIaHAkYZy3HDr0sjSdx9teuiH/yW7MJz0y+JzXz7RP2bC/0nTHK1iOYgDdnp5SJ9ChVkfEeaNlnSeMBwLIWy0PFJuZrieSSCpIsnUlMkUiRje6YfXBo85/zJZWnWCMKyeU5UPMYYh6eyM0doQoq6ulP938t6ctd84RpT0/4eKxWLc/c+HuOu+B1i6fEVXlahiv71ncsNVl/H5s07P6RjWtES5573N/PGdjbSFYlRV+QlYstA9KKhYeFN888pXtt79lfvcSHuUbWLoSxw9Nu9h3ywqnXjD/4qq4DWJQZD5iwN2fHmodv4cjRs/EGW0WNJBy4M+5ZF6O5dmTLZemV65kaKTr9zHO/WQi2Ww5BCkUbD6ECkErhS0NLUTb+vkiGmj+fapMzlp2kh8Vv8tqs1b6pn9+ps01G9l3B5jOeW4Y/H5+59fo6nT5vEFW/nDGxtYuC6Ev9RDXYkXx3Yp5HA9Zcea7KaN74Vm3/VAeO6L68kt2kjf3NSt6uqPDzFKRt+MkEdKAapHZSkZkqQ7hzyEoRAWqKh83RHOD0WbfC0aNxBloOWR3Ll323wgAumvKZO8nrE5U3r+9042R006W/qLD8z7A+SBZUo64w7NW0NIIbnokAlcc/RUjpxQM+jv9dySZu54cyNPLdqKaRnUVXgxhcAuZJUXKLt505uRxW882/LUbz5gEKRBzzFPqvpr60+XVuB/DJMDlCFREej9zc3+Td6R5CGkwonKOfEtxs98Y5xHHOEg2iS7ojyGYmyLyHBbpd1O+feSdSyMwbaTzEi7dFof/Plz3ikHf+g/7KxTzNpxnxOWN7fJK7aTuO3ikZLaEWV0hCLc984KXlmwnstmTePqIycxvqL/6s/++HhDB39/bxN3f7CZjriiptxHwGfiOC52AXMbbkfL4uiKD59qefYPrzmt9WHyk0aqPFSGS9Xwh9FPAk+Wf7X1Ik9cfU2Ws5/qUfG/43bTCtF1cisQhpoXCxt/NKS6Z7iPqxAM1XwefQkkFTflsVRxyK7rMuW+dIk40SXvb4ouef++4NHnve+ZctCxZs3YSxFDP+DOVQpsRVHQi9fvoTEU4efPzeW5j1dx6axpXHvEJIL9TIWYic1tMW5/bxP3vbeZla1RyoImo8s9GALsAk6NqGKdm2JrFz7d8eFTr4fnvriB7ZdGL2Fk2Gj+Y+l9wH2j/6/pTCdkXK0Un0GJHdgdIjENhOI5JcRdoB4b7iMqJEPV/ZlJINB3FKLoKZqkPNKjkOTt7iik4/WHF3W8/vDSohMufds7/fALZEnlyUP0uXrguAoDKCsNEA3YLGzu4DsPvsPjH6zkGyfP5Ox9cguGHFfx9w+38Ns3N7Bkc5ig32REpR+PIXBcRcFyosqNxTeveK793Uef7njvsVXkJg2bbbLI1kTJJg4yXLL+fyueGvHd1icjhjXV78Y+7yp5noCZkP2/UGHocVovEIb9aLjN+2ggYC8ctkMaRoaydiJVGOn3ZXpuan4kPRJJFUn61i2R9pfvnRtZ+ObKwFGf+69nj5mXCa9/2iB+nqwHrlwXj2lQWeonHvTyzrpGLr/9Fe4/YDw3n7YvM0aWZd3/ndWtfP8/a3l3aTPKb1Jb7sU0EgFXoYbLAzihrXM7Pnjq7x3vPbYkSxOlV7crPaOMTOJI/xumiqKXNFJI3vcp8FPgpwgOAk53ECdJpfYHPJCcg2RoQhOFSnT+dK1uJZAfKlc9L6T4j0K9NSRvuhNRqBXjIHtTJlUcyWZMpkgkmVBNbcb0koi9eWVz279//aJZN/6d4s9ce65Zu8dFSKN8CD9f4gN15SIsU1JVHqAz7vL4R6t4adEGvnLsdL594l6UdE3FpxSsbo7yi1fX8sD7WwgLqKnwY3Z1ZBdijpCuA3GVHd3aufiNu1uf/ePrA5RGtuZJujgyNlHoWxqZ+KBr+3/ARBQHCimPFYJpruvuCxTn9TvIigoZSs7FZbEr1X9BzCUhM00XBana7CJdIrk2ZZLCSN1SoxCHns2YLomsam6+67t3e6cf/lzR8Zd8SRaXH4U0cqvu2g6UShyg15T4a0pojcT42dNzeOSj1dx8xn4cO2Ukj8xv5EcvraGpI0p5mZ8Kj8RxVXfirRAoO9YS37z8hebHfvZgfOPSVgYmjXzyGmS4JMvt/ljetT0IEI+LWidujJbSnQHGRKAOGAHUAKUkxOJl2/luA1EgBLQC9cAmYLOU7nLHNj+JO856y2DLAI9rt6KQ8kiSLR+S6TnpAkkmU5NbtnxI92V00dsboove/mHx6dcf7Jl0wGUyULwPQhakP8t1FaVeD2qEl+WNIS6891U1ffQe7rI2v2HhMLo2iOtS0OaJcuJtTsvmDzveffTh0Bv/Wkp2aWRLhg5KXiP1kAbhY23p2j4ahNfS5MhwyAMGlg+BxAmbrE7N9F8tUz7E6NrPBNzQM7e9A3xQeuEPzrJG7vlZ4QvOHLyPkx23a0bh6sog4UiET+tDqrq6THmlIQpaHaqU67Q3zo0sfvPx5sd+9ja5SSN53c1wmbXrNfmODL00NMPIcMkjSX/5kNTbmfIh6ZFItnxIt0Ra//WTxzwT9389eOwF5xoVI04pVH2I47h4TYPiooBIdL0W7rvjhluXxDZ8+krjfd9+IsPgtXRpDGZeA3pLQktjF2G45ZFkoE2ZXPMhGSUSW/7xltjyj28PHnfRG95ph51jlNWcihAFmZDZddWQTVnf6/3sWFN807IX2t9+6PnwnBfSS8r7k8Zw5zU0Ozg7ijxgYE2Z9F6YTJFIujR6JVU7Zt8/P/zGI58Wf+ba/1rj975ABksPG9yPNHzYDatfDM998Zm2V+76hMGRxnDnNTQ7GDuSPJIMpGsXelapZsqJ9JlUVfGo2/bEn173TDpgkX//Ew6xxu99vTA9o4fqww01bnvzwvCClx9of+uhufbWte0MTBo6r6HJmR1RHkny6drNlg/JJJAeEokt+6g+tuyj57wzjvw4cNiZZ5q14y5DyMAQfr5BRcUj9dGVHz8cevUf/42umtNIZmn0lQwdSKSh8xqaHVoeSQqRD+numYl+8ubG2NIP7vIdcNLLgYM/c7UsrjgWIfofOz9cuE5HfMvKF1qfv+XhyPIPGnCd5BSAmaTRVzI0eZmadNZ5DU1WdgZ5wODnQ7L1yriAo+JRp/Pdp1d0vvv0/xafdePh3kkHXCm8gRkIYQ3y58of1wk77U0L21656460cSi5SEPnNTTbzc4ijySDmQ/JVqVqptxnhp685c0QvFN2xc8uMWvGflZY3nFD9NlyQynHjbSvinz65gNND/2/V8ksjFzn13DIHGkkr0NmefQ4osH9gJqdhZ1NHkm2Nx+SGolkas70GLULmC33/M8/vNMPfz54zPlXyJKqWcK06vI6ciHy/rK50Y518Y1LX2p56tdPxjctDzHwofI6r6EZNHZWeSTJNx+SHon01Zzplkh00duboove/lXRqVe/7J10wDmypOIkENs3dVUOKMcO2fWrXun46Jln2998YAX9SyPTqNdszTSd19Dkxc4uDxjcfEi2XpkeEml//s4P2l+8e27puTe9YY6efLb0Fx80uB9pG3bTxjciS95+ruXJX71H/82TXKtDdV5Ds93sCvJIsj35kPSemWxFZtsk4jpO60O/eN4748g5/gNOPMYcsecFg1nq7oZbF0eWvftY6NV7341vWtZG9kRof3mNbJGGzmtototdSR5J8smHpEsmNR+SHo30nArxkzc3RD9586HAoWe+593nmLPMqlHnbk99iHLiLbFVc//V/s7Dr3V+8toWtr/IS5eUa4aEXVEeSQYzH5KtSrW7KRN+96kVkYWv3+o/+DMv+/Y59hoZLD1qoAdsN6x+qm32PQ+G5720EdfJ1iTZmYbKa3ZhdmV5QH75kOTz03tmMjVnekQjbnuL0zH7/vmRj1+6KXji5Yd7Juxzo7A8Y1OSqiLtEpRru+G2BeE5z9/V9t97PnE7WmL0lkKmytC+qkNVhkvdRNEMKru6PJIMJB+SzIXkOxWi4bQ0OG3//vUrRlnNWyXn3nSJUTXqXGEYlYCJ6FpzV7kxZcc2xdYsuL/x/u8+53aGUicSTpVCX1FGvkPltTQ0283uIo8k+eZDBjIVYveCVU5Lvd328K/uDh57wRxr3Iyz8XgnKSsWUCIcttsa5oXnPPdI+1sPrU4Rh6J3EVe2KEPnNTTDyu4mjyQDzYekCiSZTM026C4pEgeQTmtDvO2JP70FvENPKaW+T2rzKL2XJ9Olzmtohp3dVR4wsHwIdMmA/qdClCnPTd1E12Wm9+xLILnUaui8hqbg7M7ySNJfPiT1dqZ8SHokki6L1Ou9E6bb3iO9BiObLHLNa0BvSWhpaAYNLY9t5Nu1m6lSNV0c6Rv0llOm3p3+ogyd19AMG1oePcmnazf9MimQZJSSLpAk6fJIXqbLIVNVqM5raIYdLY/M9NeUyRSlJKOQVJGkN3XSXzP9/TJFFH0JQ0tDM2xoefRNukRSb6fnQyCR2OyrmZJJHKnv1ZdEMkkDektCS0NTELQ8cmMg+ZDUqIMM17O9fur1vqILndfQ7BCIgi2qrNFodikKtf6QRqPZxdDy0Gg0eaHlodFo8kLLQ6PR5IWWh0ajyQstD41GkxdaHhqNJi+0PDQaTV5oeWg0mrzQ8tBoNHmh5aHRaPJCy0Oj0eSFlodGo8kLLQ+NRpMXWh4ajSYvtDw0Gk1eaHloNJq80PLQaDR5oeWh0WjyQstDo9HkhZaHRqPJCy0PjUaTF1oeGo0mL7Q8NBpNXmh5aDSavNDy0Gg0eaHlodFo8kLLQ6PR5IWWh0ajyQstD41GkxdaHhqNJi+0PDQaTV5oeWg0mrzQ8tBoNHmh5aHRaPJCy0Oj0eSFlodGo8kLLQ+NRpMXWh4ajSYvtDw0Gk1eaHloNJq80PLQaDR5oeWh0WjyQstDo9HkhZaHRqPJCy0PjUaTF1oeGo0mL7Q8NBpNXmh5aDSavNDy0Gg0eaHlodFo8kLLQ6PR5MX/BxiRq4K9moOrAAAAAElFTkSuQmCC"
  },
  "description": "Slouží k posílání eventů na Facebook API z platformy eshopů Webareal.",
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "type": "TEXT",
    "name": "pixel_id",
    "displayName": "Pixel ID",
    "simpleValueType": true,
    "help": "Zadejte Facebook Pixel kód"
  },
  {
    "type": "TEXT",
    "name": "accessToken",
    "displayName": "Přístupový token",
    "simpleValueType": true
  },
  {
    "type": "TEXT",
    "name": "testToken",
    "displayName": "Testovací token",
    "simpleValueType": true
  },
  {
    "type": "TEXT",
    "name": "url",
    "displayName": "Systémová url mutace eshopu",
    "simpleValueType": true,
    "help": "webareal.cz,webareal.sk, fast-webshop.com, premium-wa.cz, atd."
  },
  {
    "type": "GROUP",
    "name": "group1",
    "displayName": "Eventy",
    "groupStyle": "ZIPPY_OPEN",
    "subParams": [
      {
        "type": "CHECKBOX",
        "name": "viewContent",
        "checkboxText": "viewContent",
        "simpleValueType": true
      },
      {
        "type": "CHECKBOX",
        "name": "addToCart",
        "checkboxText": "addToCart",
        "simpleValueType": true
      },
      {
        "type": "CHECKBOX",
        "name": "initiateCheckout",
        "checkboxText": "initiateCheckout",
        "simpleValueType": true
      },
      {
        "type": "CHECKBOX",
        "name": "purchase",
        "checkboxText": "purchase",
        "simpleValueType": true
      }
    ]
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

const isConsentGranted = require('isConsentGranted');
const copyFromWindow = require('copyFromWindow');
const encodeUriComponent = require('encodeUriComponent');

const log = require('logToConsole');
const copyFromDataLayer = require('copyFromDataLayer');
const dataLayer = copyFromWindow('dataLayer');
const currency = copyFromWindow('currency');
const gtmId = copyFromDataLayer('gtm.uniqueEventId');
const getTimestamp = require('getTimestamp');
const sendPixel = require('sendPixel');
const JSON = require('JSON');
const Math = require('Math');


let conversionData = {
"data": [
  {
    "action_source": "website",
  }
],
"access_token": data.accessToken
};

if(data.testToken)
{
  conversionData.test_event_code = data.testToken;
}
  
let detailEvent = {};

log(dataLayer);
log(data);

if (isConsentGranted('ad_storage') && isConsentGranted('analytics_storage')) {
  
  dataLayer.forEach(function callback(value, index) {
    if(data.gtmEventId == index+1)
    {
      let clientIP = dataLayer[index].clientIP;
      
      switch (dataLayer[index].event) {
        case 'eec.detail':
          return data.viewContent ? viewContent(dataLayer[index].ecommerce.detail.products,clientIP) : null;
        case 'eec.add':
          return data.addToCart ? addToCart(dataLayer[index].ecommerce.add.products,clientIP) : null;
        case 'eec.checkout':
          return data.initiateCheckout ? initiateCheckout(dataLayer[index].ecommerce.checkout.products,clientIP) : null;
        case 'eec.purchase':
          return data.purchase ? purchase(dataLayer[index].ecommerce,clientIP) : null;
        default:
          return pageView(dataLayer[index], clientIP);
      }
      
      
    }
 });  
} else 
{
}

/***************** Functions *****************/

function viewContent(data,clientIP)
{
  let contents_ids = [ data[0].id ];
  let quotedArray = "[" + contents_ids.join("','") + "]";

  let name = data[0].name;
  let value = data[0].metric2;
  
  conversionData.data[0].user_data = { "client_ip_address": clientIP };
  conversionData.data[0].event_name = "ViewContent";
  conversionData.data[0].event_time = Math.floor(getTimestamp() / 1000);
  conversionData.data[0].custom_data = {
    "content_name": name,
    "content_ids": quotedArray,
    "content_type": "product",
    "value": value,
    "currency" : currency
  };
    
 log(conversionData);

var raw = JSON.stringify( conversionData );
 
log(raw);  
sendData(raw);
}
  
function addToCart(data,clientIP)
{
  
  let contents_ids = [ data[0].id ];
  let quotedArray = "[" + contents_ids.join("','") + "]";

  let name = data[0].name;
  let value = data[0].metric2;
  
  conversionData.data[0].user_data = { "client_ip_address": clientIP };
  conversionData.data[0].event_name = "AddToCart";
  conversionData.data[0].event_time = Math.floor(getTimestamp() / 1000);
  conversionData.data[0].custom_data = {
    "content_name": name,
    "content_ids": contents_ids,
    "content_type": "product",
    "value": value,
    "currency" : currency
  };
  
  log(conversionData);
 
var raw = JSON.stringify( conversionData );
log(raw);  
sendData(raw);    
}

function initiateCheckout(data,clientIP)
{

  let total = 0;
  let numItems = 0;
  let items = [];
  
  data.forEach(function(el, index) {
    total += (el.metric2 * el.quantity) + (el.metric9 * el.quantity);
    numItems += el.quantity;
    items.push(el.id);
  });
 
  //items = "[" + items.join("','") + "]";
  conversionData.data[0].user_data = { "client_ip_address": clientIP };
  conversionData.data[0].event_name = "InitiateCheckout";
  conversionData.data[0].event_time = Math.floor(getTimestamp() / 1000);
  conversionData.data[0].custom_data = {
    "content_ids": items,
    "content_type": "product",
    "value": total,
    "num_items": numItems,
    "currency" : currency
  };
  
  var raw = JSON.stringify( conversionData );
  log(raw);  
  sendData(raw);
}

function purchase(data,clientIP)
{
  log(data);
  log("purchase");
  
  let total = data.purchase.actionField.revenue;
  let products = data.purchase.products;
  let currency = data.currencyISObyServer;
  let items = [];
  
  products.forEach(function(el, index) {
    items.push(el.id);
  });
  
  conversionData.data[0].user_data = { "client_ip_address": clientIP };
  conversionData.data[0].event_name = "Purchase";
  conversionData.data[0].event_time = Math.floor(getTimestamp() / 1000);
  conversionData.data[0].custom_data = {
    "content_type": "product",
    "value": total,
    "currency" : currency,
    "content_ids" : items
  };
  
  var raw = JSON.stringify( conversionData );
  log(raw);  
  sendData(raw);
  
}

function pageView(data, clientIP)
{
  
  conversionData.data[0].user_data = { "client_ip_address": clientIP };
  conversionData.data[0].event_name = "PageView";
  conversionData.data[0].event_time = Math.floor(getTimestamp() / 1000);
  
  var raw = JSON.stringify( conversionData );
  log(raw);  
  sendData(raw);
}

function sendData(conversionData)
{
  const url = "https://" + data.url +"/request.php?action=Gtm_reciever&customer_pixel_id=" + data.pixel_id +"&data=";  
  
  log(url + encodeUriComponent(conversionData));
  
sendPixel(url + encodeUriComponent(conversionData), data.gtmOnSuccess, data.gtmOnFailure);
}




/*if (queryPermission('read_data_layer', 'ecommerce', 'event', 'access_globals', 'testevent' , 'testevent2','gtm')) {
  const ecomm_data = copyFromDataLayer('ecommerce');
  log('Ecomm data: ' + ecomm_data);
  log(copyFromDataLayer('testevent',1));
  log(copyFromDataLayer('testevent2',1));
  log(copyFromDataLayer('event'));
  log(copyFromDataLayer('ecommerce.detail.products', 1));
  log(copyFromDataLayer('gtm'));

}
else {
  log('Nejsou prava...');
}


if(data.targetEvents){
  let eventMap = data.targetEvents.map((i) => {
    return i.name;
  });

  let event;
  if(data.testing){
    event = data.dataLayer.event;
  } else {
    event = copyFromDataLayer("event.start");
  }

  if(eventMap.indexOf(event) === -1){
    return undefined;
  }
}
// Sem zadejte kód šablony.

if (queryPermission('inject_script', url)) {
  injectScript(url, onSuccess, onFailure);
} else {
  data.gtmOnFailure();
}



*/
// Vyvolat příkaz data.gtmOnSuccess, když je dokončeno spuštění značky.
data.gtmOnSuccess();

function onSuccess()
{
  log('gerererewr');
}

function onFailure()
{
  log('faiů');
}


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "logging",
        "versionId": "1"
      },
      "param": [
        {
          "key": "environments",
          "value": {
            "type": 1,
            "string": "debug"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "read_data_layer",
        "versionId": "1"
      },
      "param": [
        {
          "key": "keyPatterns",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "gtm.uniqueEventId"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "access_globals",
        "versionId": "1"
      },
      "param": [
        {
          "key": "keys",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "dataLayer"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": false
                  },
                  {
                    "type": 8,
                    "boolean": false
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "currency"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": false
                  },
                  {
                    "type": 8,
                    "boolean": false
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "access_consent",
        "versionId": "1"
      },
      "param": [
        {
          "key": "consentTypes",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "ad_storage"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": false
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "analytics_storage"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": false
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "send_pixel",
        "versionId": "1"
      },
      "param": [
        {
          "key": "allowedUrls",
          "value": {
            "type": 1,
            "string": "any"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___TESTS___

scenarios: []


___NOTES___

Created on 10. 1. 2023 15:02:45


